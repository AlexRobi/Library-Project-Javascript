<html lang="en">

<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="">

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <h1>
    JavaScript test file
  </h1>
  <script>
    function computerPlay() {
      let possibleChoises = ['rock', 'paper', 'scissors']
      return possibleChoises[Math.floor(Math.random() * possibleChoises.length)];
    }

    function playerPlay() {
      let playerChoose = prompt("Round n°" + round + "\n" + "rock, paper or scissors?").toLowerCase();
      let validChoice = false
      while ( !validChoice ) {
        if (playerChoose === "rock") {
          validChoice = true;
          break;
        } else if (playerChoose === "paper") {
          validChoice = true;
          break;
        } else if (playerChoose === "scissors") {
          validChoice = true;
          break;
        }
        playerChoose = prompt("Incorrect, please choose between: rock, paper or scissors")
      }
      return playerChoose;
    }

      function playRound(computerSelection, playerSelection) {
      if (playerSelection === "rock") {
        if (computerSelection === "rock") {
          tieRound();
        } else if (computerSelection === "paper") {
          loseRound();
        } else {
          winRound();
        }
      }

      if (playerSelection === "paper") {
        if (computerSelection === "rock") {
          winRound();
        } else if (computerSelection === "paper") {
          tieRound();
        } else {
          loseRound();
        }
      }

      if (playerSelection === "scissors") {
        if (computerSelection === "rock") {
          loseRound();
        } else if (computerSelection === "paper") {
          winRound();
        } else {
          tieRound();
        }
      }

      function playersChoose() {
        console.log("the computer choose " + computerSelection + "\n" + "you choose " + playerSelection)
      }

      function winRound() {
        playersChoose()
        console.log("You win the round!");
        playerScore ++;
      }

      function loseRound() {
        playersChoose()
        console.log("You lose the round!")
        computerScore ++;
      }

      function tieRound() {
        playersChoose()
        console.log("It's a tie round!")
      }
    }

    function game() {
      let gameOver = false
      while (!gameOver) {
        console.log("round n°" + round)
        playRound(computerPlay(), playerPlay())
        console.log("player: " + playerScore + " | " + "computer: " + computerScore)
        console.log("------------------------------------------")
        round ++
        if ( round > 5 ) {
          gameOver = true;
          console.log("End of the game!" + "\n" + "player: " + playerScore + " | " + "computer: " + computerScore)
          if (playerScore > computerScore) {
            console.log("You win the game!")
          } else if (computerScore > playerScore) {
            console.log("You lose the game!")
          } else {
            console.log("It's a tie game!")
          }
        }
      }
    }

    let playerScore = 0
    let computerScore = 0
    let round = 1
    game()


  </script>
</body>

</html>